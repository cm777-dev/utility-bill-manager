{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{Box,Button,Typography,Paper,IconButton,Dialog,DialogTitle,DialogContent,DialogActions}from'@mui/material';import{DataGrid}from'@mui/x-data-grid';import{Add as AddIcon,Edit as EditIcon,Delete as DeleteIcon,Visibility as ViewIcon}from'@mui/icons-material';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function BillsList(){const[bills,setBills]=useState([]);const[loading,setLoading]=useState(true);const[selectedBill,setSelectedBill]=useState(null);const[openDialog,setOpenDialog]=useState(false);const navigate=useNavigate();useEffect(()=>{fetchBills();},[]);const fetchBills=async()=>{try{const response=await axios.get('/api/bills');setBills(response.data);}catch(error){console.error('Error fetching bills:',error);}finally{setLoading(false);}};const handleDelete=async()=>{try{await axios.delete(`/api/bills/${selectedBill.id}`);setOpenDialog(false);fetchBills();}catch(error){console.error('Error deleting bill:',error);}};const columns=[{field:'utility_type',headerName:'Utility Type',flex:1},{field:'amount',headerName:'Amount',flex:1,renderCell:params=>`$${params.value.toFixed(2)}`},{field:'bill_date',headerName:'Bill Date',flex:1,renderCell:params=>new Date(params.value).toLocaleDateString()},{field:'due_date',headerName:'Due Date',flex:1,renderCell:params=>new Date(params.value).toLocaleDateString()},{field:'status',headerName:'Status',flex:1,renderCell:params=>/*#__PURE__*/_jsx(Typography,{sx:{color:params.value==='paid'?'success.main':'warning.main'},children:params.value.toUpperCase()})},{field:'actions',headerName:'Actions',flex:1,sortable:false,renderCell:params=>/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(IconButton,{onClick:()=>{// Handle view action\n},children:/*#__PURE__*/_jsx(ViewIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>{// Handle edit action\n},children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>{setSelectedBill(params.row);setOpenDialog(true);},children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})}];return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Bills\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:()=>navigate('/bills/add'),children:\"Add Bill\"})]}),/*#__PURE__*/_jsx(Paper,{sx:{width:'100%'},children:/*#__PURE__*/_jsx(DataGrid,{rows:bills,columns:columns,pageSize:10,rowsPerPageOptions:[10],checkboxSelection:true,disableSelectionOnClick:true,autoHeight:true,loading:loading})}),/*#__PURE__*/_jsxs(Dialog,{open:openDialog,onClose:()=>setOpenDialog(false),children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Delete Bill\"}),/*#__PURE__*/_jsx(DialogContent,{children:\"Are you sure you want to delete this bill? This action cannot be undone.\"}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenDialog(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleDelete,color:\"error\",children:\"Delete\"})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Box","Button","Typography","Paper","IconButton","Dialog","DialogTitle","DialogContent","DialogActions","DataGrid","Add","AddIcon","Edit","EditIcon","Delete","DeleteIcon","Visibility","ViewIcon","axios","jsx","_jsx","jsxs","_jsxs","BillsList","bills","setBills","loading","setLoading","selectedBill","setSelectedBill","openDialog","setOpenDialog","navigate","fetchBills","response","get","data","error","console","handleDelete","delete","id","columns","field","headerName","flex","renderCell","params","value","toFixed","Date","toLocaleDateString","sx","color","children","toUpperCase","sortable","onClick","row","display","justifyContent","alignItems","mb","variant","startIcon","width","rows","pageSize","rowsPerPageOptions","checkboxSelection","disableSelectionOnClick","autoHeight","open","onClose"],"sources":["C:/Users/vpmar/OneDrive/Ãrea de Trabalho/Chris/CascadeProjects/windsurf-project/utility-bill-manager/frontend/src/pages/BillsList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Box,\n  Button,\n  Typography,\n  Paper,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n} from '@mui/material';\nimport { DataGrid } from '@mui/x-data-grid';\nimport {\n  Add as AddIcon,\n  Edit as EditIcon,\n  Delete as DeleteIcon,\n  Visibility as ViewIcon,\n} from '@mui/icons-material';\nimport axios from 'axios';\n\nexport default function BillsList() {\n  const [bills, setBills] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedBill, setSelectedBill] = useState(null);\n  const [openDialog, setOpenDialog] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchBills();\n  }, []);\n\n  const fetchBills = async () => {\n    try {\n      const response = await axios.get('/api/bills');\n      setBills(response.data);\n    } catch (error) {\n      console.error('Error fetching bills:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      await axios.delete(`/api/bills/${selectedBill.id}`);\n      setOpenDialog(false);\n      fetchBills();\n    } catch (error) {\n      console.error('Error deleting bill:', error);\n    }\n  };\n\n  const columns = [\n    {\n      field: 'utility_type',\n      headerName: 'Utility Type',\n      flex: 1,\n    },\n    {\n      field: 'amount',\n      headerName: 'Amount',\n      flex: 1,\n      renderCell: (params) => `$${params.value.toFixed(2)}`,\n    },\n    {\n      field: 'bill_date',\n      headerName: 'Bill Date',\n      flex: 1,\n      renderCell: (params) =>\n        new Date(params.value).toLocaleDateString(),\n    },\n    {\n      field: 'due_date',\n      headerName: 'Due Date',\n      flex: 1,\n      renderCell: (params) =>\n        new Date(params.value).toLocaleDateString(),\n    },\n    {\n      field: 'status',\n      headerName: 'Status',\n      flex: 1,\n      renderCell: (params) => (\n        <Typography\n          sx={{\n            color: params.value === 'paid' ? 'success.main' : 'warning.main',\n          }}\n        >\n          {params.value.toUpperCase()}\n        </Typography>\n      ),\n    },\n    {\n      field: 'actions',\n      headerName: 'Actions',\n      flex: 1,\n      sortable: false,\n      renderCell: (params) => (\n        <Box>\n          <IconButton\n            onClick={() => {\n              // Handle view action\n            }}\n          >\n            <ViewIcon />\n          </IconButton>\n          <IconButton\n            onClick={() => {\n              // Handle edit action\n            }}\n          >\n            <EditIcon />\n          </IconButton>\n          <IconButton\n            onClick={() => {\n              setSelectedBill(params.row);\n              setOpenDialog(true);\n            }}\n          >\n            <DeleteIcon />\n          </IconButton>\n        </Box>\n      ),\n    },\n  ];\n\n  return (\n    <Box>\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          mb: 3,\n        }}\n      >\n        <Typography variant=\"h4\">Bills</Typography>\n        <Button\n          variant=\"contained\"\n          startIcon={<AddIcon />}\n          onClick={() => navigate('/bills/add')}\n        >\n          Add Bill\n        </Button>\n      </Box>\n\n      <Paper sx={{ width: '100%' }}>\n        <DataGrid\n          rows={bills}\n          columns={columns}\n          pageSize={10}\n          rowsPerPageOptions={[10]}\n          checkboxSelection\n          disableSelectionOnClick\n          autoHeight\n          loading={loading}\n        />\n      </Paper>\n\n      <Dialog open={openDialog} onClose={() => setOpenDialog(false)}>\n        <DialogTitle>Delete Bill</DialogTitle>\n        <DialogContent>\n          Are you sure you want to delete this bill? This action cannot be undone.\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpenDialog(false)}>Cancel</Button>\n          <Button onClick={handleDelete} color=\"error\">\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}